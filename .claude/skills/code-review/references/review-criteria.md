# コードレビュー観点（14項目・42点満点）

各観点を **3点満点** でスコアリングする。

## 共通観点（14項目）

| #   | 観点                       | チェック内容                                                                                                          | スコア基準                                                                  |
| --- | -------------------------- | --------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| 1   | **型安全性**               | `any` の使用、型アサーション、型推論の活用                                                                            | 3点: `any` なし / 2点: 一部 `any` / 1点: 多数の `any` や型アサーション乱用  |
| 2   | **命名規則・変数名の妥当性** | 変数名・関数名・定数名の明確性・一貫性。利用目的や用途が名前から想像できるか（❌ `mainFunc` ⭕ `accountFunc`）        | 3点: 一貫性があり意図が明確 / 2点: 一部不明瞭 / 1点: 多数の不適切な命名     |
| 3   | **関数の長さ**             | 適切な粒度、単一責任の原則                                                                                            | 3点: 50行以下 / 2点: 50〜100行 / 1点: 100行超                               |
| 4   | **重複コード**             | DRY 原則の遵守                                                                                                        | 3点: 重複なし / 2点: 軽微な重複 / 1点: 顕著な重複                           |
| 5   | **単一責任**               | 関数・モジュールの責務の明確性                                                                                        | 3点: 単一責任を遵守 / 2点: やや複数の責任 / 1点: 明らかに複数の責任         |
| 6   | **引数の数**               | 推奨: 3つ以下                                                                                                         | 3点: 3つ以下 / 2点: 4つ / 1点: 5つ以上                                      |
| 7   | **未使用の変数・引数**     | 宣言されているがコード内で参照されていない変数・インスタンス変数（`private readonly` など）・関数引数がないか          | 3点: 未使用なし / 2点: 軽微な未使用あり / 1点: 明らかな未使用が複数         |
| 8   | **マジックナンバー**       | ハードコード数値の定数化                                                                                              | 3点: ハードコードなし / 2点: 一部ハードコード / 1点: 多数のハードコード     |
| 9   | **コメント**               | WHY コメントの存在、自明なコードへのコメント過多を避ける                                                              | 3点: WHY コメント適切 / 2点: 一部不足または過多 / 1点: コメントなし or 過多 |
| 10  | **エラーハンドリング**     | 適切なエラー処理・エラーメッセージ                                                                                    | 3点: 適切なエラー処理 / 2点: 一部不足 / 1点: エラー処理なし                 |
| 11  | **セキュリティ**           | ハードコード・環境変数の適切な扱い・インジェクション対策                                                              | 3点: リスクなし / 2点: 軽微なリスク / 1点: 重大なリスク                     |
| 12  | **非同期処理**             | Promise・async/await の適切な使用                                                                                     | 3点: 適切 / 2点: 一部改善余地 / 1点: 非同期処理の問題あり                   |

## スコア対象外の追加チェック（確認点として報告）

スコアには含めないが、レビュー時に必ず確認し「確認点」セクションとして報告する。

| #   | 観点                   | チェック内容                                                                 |
| --- | ---------------------- | ---------------------------------------------------------------------------- |
| A   | **設定値の妥当性**     | タイムアウト・保存期間・リトライ回数などの設定値が要件に合っているか         |
| B   | **ログレベルの適切さ** | ログの出力レベル（info/warn/error）が状況に合っているか                      |

## 総合レベル判定

| スコア   | レベル                                  |
| -------- | --------------------------------------- |
| 38点以上 | 優秀（Excellent）                       |
| 30〜37点 | 良好（Good）                            |
| 22〜29点 | 要改善（Needs Improvement）             |
| 22点未満 | 要リファクタリング（Needs Refactoring） |

## 種別ごとの重点観点

| 種別             | 重点観点                                     |
| ---------------- | -------------------------------------------- |
| Handler          | セキュリティ・エラーハンドリング・非同期処理 |
| Utility          | 型安全性・単一責任・テスタビリティ           |
| Page / Component | コンポーネント設計・命名規則・単一責任       |
| Context          | 型安全性・状態管理・パフォーマンス           |
| Module           | 汎用的な11観点をバランスよく評価             |
